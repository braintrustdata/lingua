{
  "global": [
    {
      "source": "*",
      "target": "*",
      "fields": [
        { "pattern": "created", "reason": "Provider-set timestamp with inconsistent field names (OpenAI: 'created', Responses: 'created_at', Anthropic: none)" },
        { "pattern": "service_tier", "reason": "OpenAI-specific billing tier not present in other providers" },
        { "pattern": "system_fingerprint", "reason": "OpenAI-specific system identifier not universal" },
        { "pattern": "messages[*].id", "reason": "Message/response IDs vary by provider and represent different concepts" }
      ]
    },
    {
      "source": "*",
      "target": "Google",
      "fields": [
        { "pattern": "choices[*].delta.role", "reason": "Google streaming emits role/content on final events that other providers don't" },
        { "pattern": "choices[*].delta.content", "reason": "Google streaming emits role/content on final events that other providers don't" }
      ]
    },
    {
      "source": "Anthropic",
      "target": "*",
      "fields": [
        { "pattern": "usage.prompt_cache_creation_tokens", "reason": "Only Anthropic reports cache creation tokens" }
      ]
    },
    {
      "source": "Responses",
      "target": "*",
      "fields": [
        { "pattern": "usage.prompt_tokens", "reason": "Responses API sends usage at end, other providers expect it at start" },
        { "pattern": "usage.completion_tokens", "reason": "Responses API sends usage at end, other providers expect it at start" }
      ]
    },
    {
      "source": "ChatCompletions",
      "target": "*",
      "fields": [
        { "pattern": "choices[*].delta.refusal", "reason": "ChatCompletions refusal field has no equivalent in other providers" }
      ]
    },
    {
      "source": "*",
      "target": "Bedrock",
      "fields": [
        { "pattern": "model", "reason": "Bedrock streaming format doesn't include model in events" }
      ]
    },
    {
      "source": "*",
      "target": "Anthropic",
      "fields": [
        { "pattern": "usage.completion_reasoning_tokens", "reason": "Anthropic doesn't expose reasoning tokens separately (included in output_tokens)" }
      ]
    },
    {
      "source": "*",
      "target": "Anthropic",
      "fields": [
        { "pattern": "id", "reason": "Anthropic streaming separates metadata (message_start) from content events; id may be lost when tool_calls prevent emitting message_start" },
        { "pattern": "model", "reason": "Anthropic streaming separates metadata (message_start) from content events; model may be lost when tool_calls prevent emitting message_start" }
      ]
    },
    {
      "source": "Bedrock Anthropic",
      "target": "*",
      "fields": [
        { "pattern": "usage.prompt_tokens", "reason": "Bedrock Anthropic message_delta only has output_tokens; prompt_tokens=0 added during roundtrip" }
      ]
    },
    {
      "source": "Google",
      "target": "*",
      "fields": [
        { "pattern": "id", "reason": "Google streams responseId once; other providers expect it on every/specific events" },
        { "pattern": "model", "reason": "Google streams modelVersion once; other providers repeat model per event" },
        { "pattern": "usage", "reason": "Google combines all usage in single event; other providers distribute across events" },
        { "pattern": "usage.completion_reasoning_tokens", "reason": "Google thoughtsTokenCount only in single streaming event; lost when converting to multi-event formats" },
        { "pattern": "choices[*].delta.role", "reason": "Google sends role with content in single event; Anthropic content_block_delta doesn't include role" },
        { "pattern": "choices[*].finish_reason", "reason": "Google sends finish_reason with content in single event; Anthropic separates into message_delta" },
        { "pattern": "choices[*].delta.content", "reason": "Google sends content with metadata in single event; content normalization differs across providers" },
        { "pattern": "choices[*].delta.tool_calls", "reason": "Google streaming functionCall parts don't survive cross-provider roundtrip" }
      ]
    },
    {
      "source": "*",
      "target": "Google",
      "fields": [
        { "pattern": "choices[*].delta.tool_calls", "reason": "Streaming tool_call deltas lose argument increments and index through Google functionCall conversion" }
      ]
    }
  ],
  "perTestCase": [
    {
      "testCase": "toolCallRequest",
      "source": "ChatCompletions",
      "target": "Responses",
      "fields": [
        { "pattern": "id", "reason": "Responses streaming separates metadata from content events; id lost when first chunk has tool_calls" },
        { "pattern": "model", "reason": "Responses streaming separates metadata from content events; model lost when first chunk has tool_calls" }
      ]
    },
    {
      "testCase": "toolChoiceRequiredParam",
      "source": "ChatCompletions",
      "target": "Responses",
      "fields": [
        { "pattern": "id", "reason": "Responses streaming separates metadata from content events; id lost when first chunk has tool_calls" },
        { "pattern": "model", "reason": "Responses streaming separates metadata from content events; model lost when first chunk has tool_calls" }
      ]
    },
    {
      "testCase": "toolChoiceRequiredWithReasoningParam",
      "source": "ChatCompletions",
      "target": "Responses",
      "fields": [
        { "pattern": "id", "reason": "Responses streaming separates metadata from content events; id lost when first chunk has tool_calls" },
        { "pattern": "model", "reason": "Responses streaming separates metadata from content events; model lost when first chunk has tool_calls" }
      ]
    }
  ]
}
