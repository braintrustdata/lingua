{
  "global": [
    {
      "source": "*",
      "target": "*",
      "fields": [
        { "pattern": "params.service_tier", "reason": "OpenAI-specific billing tier not universal across providers" },
        { "pattern": "messages[*].id", "reason": "Message/response IDs are provider-specific (OpenAI uses response-level IDs, Anthropic uses message-level IDs, Bedrock has none)" },
        { "pattern": "params.reasoning.canonical", "reason": "Metadata indicating source format (effort vs budget_tokens) - changes when converting between providers with different canonical representations" }
      ]
    },
    {
      "source": "*",
      "target": "Anthropic",
      "fields": [
        { "pattern": "params.reasoning.summary", "reason": "Anthropic doesn't support reasoning summary" },
        { "pattern": "params.response_format.format_type", "reason": "Anthropic converts json_object to json_schema" },
        { "pattern": "params.response_format.json_schema.name", "reason": "Anthropic rejects 'name' field" },
        { "pattern": "params.response_format.json_schema.strict", "reason": "Anthropic rejects 'strict' field" },
        { "pattern": "params.response_format.json_schema", "reason": "Anthropic uses different json_schema format" },
        { "pattern": "params.response_format", "reason": "Anthropic doesn't support Text format type" },
        { "pattern": "params.metadata", "reason": "Anthropic only accepts user_id in metadata" },
        { "pattern": "params.parallel_tool_calls", "reason": "Anthropic only supports disable_parallel via tool_choice" },
        { "pattern": "params.tool_choice", "reason": "Anthropic requires tool_choice to express disable_parallel_tool_use" },
        { "pattern": "params.logprobs", "reason": "Anthropic doesn't support logprobs (silently dropped)" },
        { "pattern": "params.top_logprobs", "reason": "Anthropic doesn't support top_logprobs (silently dropped)" },
        { "pattern": "params.frequency_penalty", "reason": "Anthropic doesn't support frequency_penalty (silently dropped)" },
        { "pattern": "params.presence_penalty", "reason": "Anthropic doesn't support presence_penalty (silently dropped)" },
        { "pattern": "params.seed", "reason": "Anthropic doesn't support seed (silently dropped)" },
        { "pattern": "params.store", "reason": "Anthropic doesn't support store (silently dropped)" },
        { "pattern": "params.temperature", "reason": "Anthropic drops temperature when extended thinking is enabled" },
        { "pattern": "params.reasoning.effort", "reason": "Cross-canonical conversion (effort→budget_tokens) may quantize when max_tokens is very small" }
      ]
    },
    {
      "source": "*",
      "target": "ChatCompletions",
      "fields": [
        { "pattern": "params.reasoning.summary", "reason": "ChatCompletions doesn't support reasoning summary" },
        { "pattern": "params.top_k", "reason": "ChatCompletions doesn't support top_k (silently dropped)" }
      ],
      "errors": [
        { "pattern": "is not supported by OpenAI Chat Completions", "reason": "Provider-specific built-in tool has no OpenAI equivalent" },
        { "pattern": "is not supported by openai", "reason": "Provider-specific built-in tool has no OpenAI equivalent" },
        { "pattern": "Unsupported input type: UserContentPart variant: File", "reason": "Anthropic document blocks not supported in OpenAI" },
        { "pattern": "UserContentPart::File", "reason": "OpenAI doesn't support File content parts" },
        { "pattern": "AssistantContentPart::File", "reason": "OpenAI doesn't support File content in assistant messages" }
      ]
    },
    {
      "source": "ChatCompletions",
      "target": "*",
      "fields": [
        { "pattern": "messages[*].refusal", "reason": "ChatCompletions refusal field has no equivalent in other providers" },
        { "pattern": "messages[*].annotations", "reason": "ChatCompletions annotations field has no equivalent in other providers" }
      ]
    },
    {
      "source": "*",
      "target": "Responses",
      "fields": [
        { "pattern": "params.top_k", "reason": "Responses API doesn't support top_k (silently dropped)" },
        { "pattern": "params.stop", "reason": "Responses API doesn't support stop sequences (silently dropped)" }
      ],
      "errors": [
        { "pattern": "is not supported by OpenAI Responses API", "reason": "Provider-specific built-in tool has no OpenAI equivalent" },
        { "pattern": "is not supported by responses", "reason": "Provider-specific built-in tool has no OpenAI equivalent" },
        { "pattern": "Unsupported input type: UserContentPart variant: File", "reason": "Anthropic document blocks not supported in OpenAI" },
        { "pattern": "UserContentPart::File", "reason": "OpenAI doesn't support File content parts" },
        { "pattern": "AssistantContentPart::File", "reason": "OpenAI doesn't support File content in assistant messages" },
        { "pattern": "ToolResult { tool_name: \"web_search\"", "reason": "Anthropic web_search encrypted results cannot be transformed to OpenAI" }
      ]
    },
    {
      "source": "ChatCompletions",
      "target": "Responses",
      "fields": [
        { "pattern": "params.frequency_penalty", "reason": "Responses API doesn't support frequency_penalty" },
        { "pattern": "params.presence_penalty", "reason": "Responses API doesn't support presence_penalty" },
        { "pattern": "params.seed", "reason": "Responses API doesn't support seed" },
        { "pattern": "params.logprobs", "reason": "Responses API doesn't support logprobs boolean (use top_logprobs)" }
      ]
    },
    {
      "source": "Anthropic",
      "target": "Responses",
      "fields": [
        { "pattern": "params.reasoning.budget_tokens", "reason": "OpenAI uses effort levels, budget_tokens gets quantized" },
        { "pattern": "params.tools", "reason": "Anthropic built-in tools not supported in OpenAI" },
        { "pattern": "messages.length", "reason": "Responses API expands tool messages to separate function_call_output items" },
        { "pattern": "messages[*].content[*].provider_options", "reason": "Anthropic per-block cache_control metadata has no OpenAI request equivalent" }
      ]
    },
    {
      "source": "Anthropic",
      "target": "ChatCompletions",
      "fields": [
        { "pattern": "params.reasoning.budget_tokens", "reason": "OpenAI uses effort levels, budget_tokens gets quantized" },
        { "pattern": "params.tools", "reason": "Anthropic built-in tools not supported in OpenAI" },
        { "pattern": "messages[*].content[*].provider_options", "reason": "Anthropic per-block cache_control metadata has no OpenAI request equivalent" }
      ]
    },
    {
      "source": "*",
      "target": "Bedrock",
      "fields": [
        { "pattern": "params.temperature", "reason": "Bedrock requires temperature=1.0 for extended thinking" },
        { "pattern": "params.stream", "reason": "Bedrock uses endpoint-based streaming" },
        { "pattern": "params.metadata", "reason": "Bedrock doesn't support metadata" },
        { "pattern": "params.reasoning.effort", "reason": "Cross-canonical conversion (effort→budget_tokens) may quantize when max_tokens is very small" },
        { "pattern": "params.reasoning.summary", "reason": "Bedrock doesn't support reasoning summary" }
      ]
    },
    {
      "source": "*",
      "target": "Bedrock Anthropic",
      "fields": [
        { "pattern": "model", "reason": "Bedrock Anthropic invoke body omits model (selected by URL path)" },
        { "pattern": "params.stream", "reason": "Bedrock Anthropic uses endpoint-based streaming" }
      ]
    },
    {
      "source": "*",
      "target": "Google",
      "fields": [
        { "pattern": "params.stream", "reason": "Google uses endpoint-based streaming" },
        { "pattern": "params.metadata", "reason": "Google doesn't support metadata" },
        { "pattern": "params.reasoning.effort", "reason": "Cross-canonical conversion (effort→budget_tokens) may quantize when max_tokens is very small" },
        { "pattern": "params.reasoning.summary", "reason": "Google doesn't support reasoning summary" },
        { "pattern": "params.parallel_tool_calls", "reason": "Google doesn't support parallel_tool_calls parameter" },
        { "pattern": "params.store", "reason": "Google doesn't support store parameter" },
        { "pattern": "params.frequency_penalty", "reason": "Google doesn't support frequency_penalty" },
        { "pattern": "params.presence_penalty", "reason": "Google doesn't support presence_penalty" },
        { "pattern": "params.seed", "reason": "Google doesn't support seed" },
        { "pattern": "params.logprobs", "reason": "Google doesn't support logprobs" },
        { "pattern": "params.top_logprobs", "reason": "Google doesn't support top_logprobs" },
        { "pattern": "params.tools[*].strict", "reason": "Google doesn't support strict mode for tools" },
        { "pattern": "messages[*].content[*].output", "reason": "Google wraps string tool result output in an object ({\"output\": ...})" },
        { "pattern": "params.tool_choice.disable_parallel", "reason": "Google doesn't support disable_parallel in tool_choice" },
        { "pattern": "params.temperature", "reason": "Google uses f32 for temperature, causing precision loss (0.7 → 0.699999988079071)" },
        { "pattern": "params.top_p", "reason": "Google uses f32 for top_p, causing precision loss (0.9 → 0.8999999761581421)" },
        { "pattern": "messages[*].content[*].media_type", "reason": "Google requires mime_type for images; null defaults to image/jpeg" },
        { "pattern": "messages[*].content[*].provider_options", "reason": "Google doesn't support provider_options on content parts" },
        { "pattern": "messages.length", "reason": "Google moves system messages to systemInstruction and merges consecutive same-role messages" }
      ],
      "errors": [
        { "pattern": "is not supported by Google", "reason": "Provider-specific built-in tool has no Google equivalent" }
      ]
    },
    {
      "source": "Responses",
      "target": "Google",
      "fields": [
        { "pattern": "params.tools", "reason": "OpenAI built-in tools (code_interpreter, web_search) not supported in Google" }
      ]
    },
    {
      "source": "Anthropic",
      "target": "Google",
      "fields": [
        { "pattern": "params.tools", "reason": "Anthropic built-in tools (bash, text_editor, web_search) not supported in Google" },
        { "pattern": "params.reasoning.budget_tokens", "reason": "Cross-canonical conversion (budget_tokens→effort→thinkingBudget) derives budget from effort level" }
      ]
    },
    {
      "source": "Google",
      "target": "*",
      "fields": [
        { "pattern": "messages[*].content[*].encrypted_content", "reason": "Google thoughtSignature doesn't roundtrip through other providers" }
      ]
    },
    {
      "source": "Google",
      "target": "ChatCompletions",
      "fields": [
        { "pattern": "messages[*].content[*].tool_name", "reason": "ChatCompletions tool messages don't include tool_name, only tool_call_id" }
      ]
    },
    {
      "source": "Google",
      "target": "Anthropic",
      "fields": [
        { "pattern": "messages[*].content[*].tool_name", "reason": "Anthropic tool_result doesn't include tool name, only tool_use_id" }
      ]
    }
  ],
  "perTestCase": [
    {
      "testCase": "imageContentParam",
      "source": "*",
      "target": "Anthropic",
      "skip": true,
      "reason": "Anthropic assistant messages don't support image content"
    },
    {
      "testCase": "documentContentParam",
      "source": "*",
      "target": "Anthropic",
      "skip": true,
      "reason": "Anthropic assistant messages don't support document content"
    },
    {
      "testCase": "multimodalRequest",
      "source": "*",
      "target": "Anthropic",
      "skip": true,
      "reason": "Anthropic assistant messages don't support image content"
    },
    {
      "testCase": "codeInterpreterToolParam",
      "source": "Responses",
      "target": "Anthropic",
      "skip": true,
      "reason": "OpenAI code_interpreter tool has no Anthropic equivalent"
    },
    {
      "testCase": "webSearchToolParam",
      "source": "Responses",
      "target": "Anthropic",
      "skip": true,
      "reason": "OpenAI web_search_preview tool has no Anthropic equivalent"
    },
    {
      "testCase": "multimodalRequest",
      "source": "ChatCompletions",
      "target": "Responses",
      "skip": true,
      "reason": "Image media_type normalization artifact"
    },
    {
      "testCase": "instructionsParam",
      "source": "ChatCompletions",
      "target": "Anthropic",
      "skip": true,
      "reason": "Anthropic extracts system messages to separate system parameter"
    },
    {
      "testCase": "instructionsParam",
      "source": "Responses",
      "target": "Anthropic",
      "skip": true,
      "reason": "Anthropic extracts system messages to separate system parameter"
    },
    {
      "testCase": "systemMessageArrayContent",
      "source": "ChatCompletions",
      "target": "Anthropic",
      "skip": true,
      "reason": "Anthropic extracts system messages to separate system parameter"
    },
    {
      "testCase": "systemMessageArrayContent",
      "source": "Responses",
      "target": "Anthropic",
      "skip": true,
      "reason": "Anthropic extracts system messages to separate system parameter"
    },
    {
      "testCase": "multimodalRequest",
      "source": "Responses",
      "target": "ChatCompletions",
      "skip": true,
      "reason": "Image provider_options not preserved in cross-provider transformation"
    },
    {
      "testCase": "complexReasoningRequest",
      "source": "Responses",
      "target": "ChatCompletions",
      "skip": true,
      "reason": "ChatCompletions collapses reasoning summary blocks to single string"
    },
    {
      "testCase": "webSearchToolParam",
      "source": "Anthropic",
      "target": "Responses",
      "skip": true,
      "reason": "Anthropic web_search encrypted results cannot be transformed to OpenAI"
    },
    {
      "testCase": "webSearchToolAdvancedParam",
      "source": "Anthropic",
      "target": "Responses",
      "skip": true,
      "reason": "Anthropic web_search encrypted results cannot be transformed to OpenAI"
    },
    {
      "testCase": "documentContentParam",
      "source": "Anthropic",
      "target": "ChatCompletions",
      "skip": true,
      "reason": "Anthropic document blocks not supported in OpenAI ChatCompletions"
    },
    {
      "testCase": "reasoningEffortLowParam",
      "source": "Google",
      "target": "Responses",
      "fields": [
        { "pattern": "params.reasoning.budget_tokens", "reason": "OpenAI uses effort levels, thinkingBudget gets quantized" }
      ]
    },
    {
      "testCase": "reasoningEffortLowParam",
      "source": "Google",
      "target": "ChatCompletions",
      "fields": [
        { "pattern": "params.reasoning.budget_tokens", "reason": "OpenAI uses effort levels, thinkingBudget gets quantized" }
      ]
    },
    {
      "testCase": "reasoningSummaryParam",
      "source": "Google",
      "target": "Responses",
      "fields": [
        { "pattern": "params.reasoning.budget_tokens", "reason": "OpenAI uses effort levels, thinkingBudget gets quantized" }
      ]
    },
    {
      "testCase": "reasoningSummaryParam",
      "source": "Google",
      "target": "ChatCompletions",
      "fields": [
        { "pattern": "params.reasoning.budget_tokens", "reason": "OpenAI uses effort levels, thinkingBudget gets quantized" }
      ]
    },
    {
      "testCase": "thinkingLevelParam",
      "source": "Google",
      "target": "ChatCompletions",
      "fields": [
        { "pattern": "messages[*].content.length", "reason": "ChatCompletions doesn't support thinking/reasoning content blocks" }
      ]
    },
    {
      "testCase": "imageConfigParam",
      "source": "Google",
      "target": "ChatCompletions",
      "fields": [
        { "pattern": "messages[*].content[*].type", "reason": "Google assistant image content not supported in ChatCompletions" },
        { "pattern": "messages[*].content[*].media_type", "reason": "Google assistant image content not supported in ChatCompletions" },
        { "pattern": "messages[*].content[*].data", "reason": "Google assistant image content not supported in ChatCompletions" },
        { "pattern": "messages[*].content[*].text", "reason": "Google assistant image content converted to text fallback in ChatCompletions" }
      ]
    },
    {
      "testCase": "imageConfigParam",
      "source": "Google",
      "target": "Anthropic",
      "fields": [
        { "pattern": "messages[*].content[*].type", "reason": "Google assistant image content not supported in Anthropic" },
        { "pattern": "messages[*].content[*].media_type", "reason": "Google assistant image content not supported in Anthropic" },
        { "pattern": "messages[*].content[*].data", "reason": "Google assistant image content not supported in Anthropic" },
        { "pattern": "messages[*].content[*].text", "reason": "Google assistant image content converted to text fallback in Anthropic" }
      ]
    },
    {
      "testCase": "webSearchToolParam",
      "source": "Anthropic",
      "target": "Google",
      "fields": [
        { "pattern": "messages[*].content.length", "reason": "Anthropic web search content blocks don't map 1:1 to Google structure" }
      ]
    },
    {
      "testCase": "webSearchToolAdvancedParam",
      "source": "Anthropic",
      "target": "Google",
      "fields": [
        { "pattern": "messages[*].content.length", "reason": "Anthropic web search content blocks don't map 1:1 to Google structure" }
      ]
    },
    {
      "testCase": "documentContentParam",
      "source": "Anthropic",
      "target": "Google",
      "fields": [
        { "pattern": "messages[*].content.length", "reason": "Anthropic document blocks not supported in Google" }
      ]
    },
    {
      "testCase": "reasoningSummaryParam",
      "source": "Google",
      "target": "Responses",
      "fields": [
        { "pattern": "messages.length", "reason": "Google reasoning summary creates additional messages in Responses format" }
      ]
    },
    {
      "testCase": "thinkingLevelParam",
      "source": "Google",
      "target": "Responses",
      "fields": [
        { "pattern": "messages.length", "reason": "Google reasoning content expands to separate output items in Responses format" }
      ]
    }
  ]
}
